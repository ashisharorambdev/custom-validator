{"ast":null,"code":"var _s = $RefreshSig$();\n/** @format */\n\nimport { useState, useEffect } from \"react\";\nimport { validateValue } from \"../LoginFormValidationRules\";\nconst useForm = callback => {\n  _s();\n  const [values, setValues] = useState({});\n  const [errors, setErrors] = useState({});\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  var inputRules = {};\n  useEffect(() => {\n    if (Object.keys(errors).length === 0 && isSubmitting) {\n      callback();\n    }\n  }, [errors]);\n  const handlrBlur = event => {\n    let Errors = {\n      ...errors\n    };\n    Errors[event.target.name] = validateValue(event.target.value, event.target.name, inputRules[event.target.name]);\n    setErrors(Errors);\n  };\n  const handleSubmit = event => {\n    if (event) event.preventDefault();\n    // setErrors(validate(values));\n    setIsSubmitting(true);\n  };\n  const handleChange = event => {\n    event.persist();\n    setValues(values => ({\n      ...values,\n      [event.target.name]: event.target.value\n    }));\n  };\n  const register = (rules, ref) => {\n    if (ref) inputRules[ref.name] = rules;\n  };\n  return {\n    handleChange,\n    handleSubmit,\n    handlrBlur,\n    register,\n    values,\n    errors\n  };\n};\n_s(useForm, \"fN8x5Yp0b2dZEBXkEth9Ky/Ylmk=\");\nexport default useForm;","map":{"version":3,"names":["useState","useEffect","validateValue","useForm","callback","values","setValues","errors","setErrors","isSubmitting","setIsSubmitting","inputRules","Object","keys","length","handlrBlur","event","Errors","target","name","value","handleSubmit","preventDefault","handleChange","persist","register","rules","ref"],"sources":["/home/mindbowser/Projects/Personal Projects/custom-validator/src/validators/useForm.js"],"sourcesContent":["/** @format */\n\nimport { useState, useEffect } from \"react\";\nimport { validateValue } from \"../LoginFormValidationRules\";\n\nconst useForm = (callback) => {\n  const [values, setValues] = useState({});\n  const [errors, setErrors] = useState({});\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  var inputRules = {};\n  useEffect(() => {\n    if (Object.keys(errors).length === 0 && isSubmitting) {\n      callback();\n    }\n  }, [errors]);\n\n  const handlrBlur = (event) => {\n    let Errors = { ...errors };\n    Errors[event.target.name] = validateValue(\n      event.target.value,\n      event.target.name,\n      inputRules[event.target.name]\n    );\n    setErrors(Errors);\n  };\n\n  const handleSubmit = (event) => {\n    if (event) event.preventDefault();\n    // setErrors(validate(values));\n    setIsSubmitting(true);\n  };\n\n  const handleChange = (event) => {\n    event.persist();\n    setValues((values) => ({\n      ...values,\n      [event.target.name]: event.target.value,\n    }));\n  };\n\n  const register = (rules, ref) => {\n    if (ref) inputRules[ref.name] = rules;\n  };\n\n  return {\n    handleChange,\n    handleSubmit,\n    handlrBlur,\n    register,\n    values,\n    errors,\n  };\n};\n\nexport default useForm;\n"],"mappings":";AAAA;;AAEA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,SAASC,aAAa,QAAQ,6BAA6B;AAE3D,MAAMC,OAAO,GAAIC,QAAQ,IAAK;EAAA;EAC5B,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGN,QAAQ,CAAC,CAAC,CAAC,CAAC;EACxC,MAAM,CAACO,MAAM,EAAEC,SAAS,CAAC,GAAGR,QAAQ,CAAC,CAAC,CAAC,CAAC;EACxC,MAAM,CAACS,YAAY,EAAEC,eAAe,CAAC,GAAGV,QAAQ,CAAC,KAAK,CAAC;EACvD,IAAIW,UAAU,GAAG,CAAC,CAAC;EACnBV,SAAS,CAAC,MAAM;IACd,IAAIW,MAAM,CAACC,IAAI,CAACN,MAAM,CAAC,CAACO,MAAM,KAAK,CAAC,IAAIL,YAAY,EAAE;MACpDL,QAAQ,EAAE;IACZ;EACF,CAAC,EAAE,CAACG,MAAM,CAAC,CAAC;EAEZ,MAAMQ,UAAU,GAAIC,KAAK,IAAK;IAC5B,IAAIC,MAAM,GAAG;MAAE,GAAGV;IAAO,CAAC;IAC1BU,MAAM,CAACD,KAAK,CAACE,MAAM,CAACC,IAAI,CAAC,GAAGjB,aAAa,CACvCc,KAAK,CAACE,MAAM,CAACE,KAAK,EAClBJ,KAAK,CAACE,MAAM,CAACC,IAAI,EACjBR,UAAU,CAACK,KAAK,CAACE,MAAM,CAACC,IAAI,CAAC,CAC9B;IACDX,SAAS,CAACS,MAAM,CAAC;EACnB,CAAC;EAED,MAAMI,YAAY,GAAIL,KAAK,IAAK;IAC9B,IAAIA,KAAK,EAAEA,KAAK,CAACM,cAAc,EAAE;IACjC;IACAZ,eAAe,CAAC,IAAI,CAAC;EACvB,CAAC;EAED,MAAMa,YAAY,GAAIP,KAAK,IAAK;IAC9BA,KAAK,CAACQ,OAAO,EAAE;IACflB,SAAS,CAAED,MAAM,KAAM;MACrB,GAAGA,MAAM;MACT,CAACW,KAAK,CAACE,MAAM,CAACC,IAAI,GAAGH,KAAK,CAACE,MAAM,CAACE;IACpC,CAAC,CAAC,CAAC;EACL,CAAC;EAED,MAAMK,QAAQ,GAAG,CAACC,KAAK,EAAEC,GAAG,KAAK;IAC/B,IAAIA,GAAG,EAAEhB,UAAU,CAACgB,GAAG,CAACR,IAAI,CAAC,GAAGO,KAAK;EACvC,CAAC;EAED,OAAO;IACLH,YAAY;IACZF,YAAY;IACZN,UAAU;IACVU,QAAQ;IACRpB,MAAM;IACNE;EACF,CAAC;AACH,CAAC;AAAC,GA/CIJ,OAAO;AAiDb,eAAeA,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}